!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t){e.exports={name:"nike",clientId:"11308"}},function(module,exports){!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){r(1),r(7),window.crl8=window.crl8||{},r(8);var n=r(12).default;window.crl8.Analytics=window.crl8.Analytics||new n,window.crl8.pixel||(window.crl8.pixel=function(){window.crl8.pixel.q.push(arguments),"send"===arguments[0]&&window.crl8.pixel.execute()},window.crl8.pixel.q=[]),crl8.EventBus.addEventListener("initializeCuralatePixel",function(e){var t=e.pixelId,r=!!e.useDebug&&e.useDebug;window.crl8.pixel("init",t,r)}),r(13)},function(e,t,r){r(2);"undefined"==typeof Promise&&(Promise=r(4),r(5)),r(6)},function(e,t,r){"use strict";function n(){if(c.length)throw c.shift()}function o(e){var t;t=a.length?a.pop():new i,t.task=e,s(t)}function i(){this.task=null}var s=r(3),a=[],c=[],u=s.makeRequestCallFromTimer(n);e.exports=o,i.prototype.call=function(){try{this.task.call()}catch(e){o.onerror?o.onerror(e):(c.push(e),u())}finally{this.task=null,a[a.length]=this}}},function(e,t){(function(t){"use strict";function r(e){a.length||(s(),c=!0),a[a.length]=e}function n(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>l){for(var t=0,r=a.length-u;t<r;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,c=!1}function o(e){var t=1,r=new f(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}function i(e){return function(){function t(){clearTimeout(r),clearInterval(n),e()}var r=setTimeout(t,0),n=setInterval(t,50)}}e.exports=r;var s,a=[],c=!1,u=0,l=1024,d="undefined"!=typeof t?t:self,f=d.MutationObserver||d.WebKitMutationObserver;s="function"==typeof f?o(n):i(n),r.requestFlush=s,r.makeRequestCallFromTimer=i}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(){}function o(e){try{return e.then}catch(e){return v=e,g}}function i(e,t){try{return e(t)}catch(e){return v=e,g}}function s(e,t,r){try{e(t,r)}catch(e){return v=e,g}}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==n&&m(e,this)}function c(e,t,r){return new e.constructor(function(o,i){var s=new a(n);s.then(o,i),u(e,new h(t,r,s))})}function u(e,t){for(;3===e._81;)e=e._65;return a._10&&a._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void l(e,t)}function l(e,t){y(function(){var r=1===e._81?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._81?d(t.promise,e._65):f(t.promise,e._65));var n=i(r,e._65);n===g?f(t.promise,v):d(t.promise,n)})}function d(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var r=o(t);if(r===g)return f(e,v);if(r===e.then&&t instanceof a)return e._81=3,e._65=t,void p(e);if("function"==typeof r)return void m(r.bind(t),e)}e._81=1,e._65=t,p(e)}function f(e,t){e._81=2,e._65=t,a._97&&a._97(e,t),p(e)}function p(e){if(1===e._45&&(u(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)u(e,e._54[t]);e._54=null}}function h(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function m(e,t){var r=!1,n=s(e,function(e){r||(r=!0,d(t,e))},function(e){r||(r=!0,f(t,e))});r||n!==g||(r=!0,f(t,v))}var y=r(3),v=null,g={};e.exports=a,a._10=null,a._97=null,a._61=n,a.prototype.then=function(e,t){if(this.constructor!==a)return c(this,e,t);var r=new a(n);return u(this,new h(e,t,r)),r}},function(e,t,r){"use strict";function n(e){var t=new o(o._61);return t._81=1,t._65=e,t}var o=r(4);e.exports=o;var i=n(!0),s=n(!1),a=n(null),c=n(void 0),u=n(0),l=n("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return a;if(void 0===e)return c;if(e===!0)return i;if(e===!1)return s;if(0===e)return u;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o(function(t,r){r(e)})}return n(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,r){function n(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof o&&a.then===o.prototype.then){for(;3===a._81;)a=a._65;return 1===a._81?n(s,a._65):(2===a._81&&r(a._65),void a.then(function(e){n(s,e)},r))}var c=a.then;if("function"==typeof c){var u=new o(c.bind(a));return void u.then(function(e){n(s,e)},r)}}t[s]=a,0===--i&&e(t)}if(0===t.length)return e([]);for(var i=t.length,s=0;s<t.length;s++)n(s,t[s])})},o.reject=function(e){return new o(function(t,r){r(e)})},o.race=function(e){return new o(function(t,r){e.forEach(function(e){o.resolve(e).then(t,r)})})},o.prototype.catch=function(e){return this.then(null,e)}},function(e,t){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(e,t){var r=arguments.length?this.then.apply(this,arguments):this;r.then(null,function(e){setTimeout(function(){throw e},0)})})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function s(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function a(e){var t=new FileReader,r=s(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=s(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var r=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function m(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,n){e=t(e),n=r(n);var o=this.map[e];this.map[e]=o?o+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];y.redirect=function(e,t){if(I.indexOf(t)===-1)throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(r,n){var o=new p(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:m(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new y(t,e))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&v.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(module,exports,__webpack_require__){function autoInitExperiences(){var e=AUTO_INIT_SELECTOR+","+AUTO_INIT_DATA_SELECTOR;Array.prototype.forEach.call(document.querySelectorAll(e),function(e){var t=e.getAttribute(ID_ATTR_NAME)||e.getAttribute(ID_DATA_ATTR_NAME);createExperienceInstance(t,e)})}function getExperienceConstructor(e){return experienceConstructorPromises[e]?experienceConstructorPromises[e]:(experienceConstructorPromises[e]=utils.fetchScript(getScriptPath(e)).then(function(){return experienceConstructorPromises[e]}),experienceConstructorPromises[e])}function getScriptPath(e){return getBasePath(e)+(window.crl8.debug?"experience.js":"experience.min.js")}function getAssetsPath(e){return getBasePath(e)+"assets/"}function getBasePath(e){var t=queryParams.versionMap[e]||"latest";return CDN_PATH+siteName+"/experiences/"+e+"/"+t+"/"}function processQueryParams(e){var t=utils.getQueryParamsMap(e);return window.crl8.debug=!!t["crl8-debug"],{allParams:t,experienceMap:t["crl8-experience-map"]?JSON.parse(t["crl8-experience-map"]):{},versionMap:t["crl8-version-map"]?JSON.parse(t["crl8-version-map"]):{},optionsOverridesMap:t["crl8-options-map"]?JSON.parse(t["crl8-options-map"]):{}}}function destroyExperience(e){return e.destroyed=!0,delete experiencesByContainerId[e.containerId],e.instance?e.instance.destroy():Promise.resolve}function wrapContainerSelectorToPromiseFn(e){return function(t){var r,n;if("string"==typeof t)r=t,n=document.querySelector("["+ID_ATTR_NAME+'="'+r+'"]')||document.querySelector("["+ID_DATA_ATTR_NAME+'="'+r+'"]');else if(t instanceof Element){if(n=t,r=n.getAttribute(ID_ATTR_NAME)||n.getAttribute(ID_DATA_ATTR_NAME),!r)return Promise.reject({containerSelector:t,message:logError("Cannot find the "+ID_ATTR_NAME+" attribute for "+n)})}else throwError("Experience selectors must be either a container ID or an element");return e.apply(this,[r,n].concat(Array.prototype.slice.call(arguments)))}}function logError(e){return ErrorLogger.log({errorType:"bootloader",error:e})}function throwError(e){throw new BootloaderError(logError(e))}function BootloaderError(e){this.message=e}function createExperienceInstance(e,t,r,n){if(siteName||throwError("Site name has not been set. Experience "+e+" cannot be created until the site name has been set."),experiencesByContainerId[e])return Promise.reject({containerSelector:r,message:logError("Cannot initialize experience for container "+r+". It already has been initialized.")});if(!t)return Promise.reject({containerSelector:r,message:logError("Cannot initialize experience for container "+r+". It already has been initialized.")});var o=queryParams.experienceMap[e]?Promise.resolve(queryParams.experienceMap[e]):containerMapper(e),i={containerId:e,elem:t,destroyed:!1,experienceName:null,experienceNamePromise:o,instance:null,instancePromise:null};return experiencesByContainerId[e]=i,i.instancePromise=o.then(function(o){return i.experienceName=o,getExperienceConstructor(o).then(function(r){if(!i.destroyed){if("function"!=typeof r)return Promise.reject({containerId:e,experienceName:o,message:"Curalate: Could not load experience "+o+" for container "+e+"."});var s=utils.assign(experienceOptionsByExperienceName[o],experienceOptionsByContainerId[e],n,{assetPath:getAssetsPath(o)},queryParams.optionsOverridesMap[e]);return i.instance=new r(t,s),crl8.EventBus.dispatchEvent("experienceReady",i),i.instance}}).catch(function(){return Promise.reject({containerSelector:r,experienceName:o,message:"Curalate: Could not load experience "+o+" for container "+e+"."})})}),i.instancePromise}function getExperienceInstance(e,t,r){var n=experiencesByContainerId[e];return n?n.instancePromise:Promise.reject({containerSelector:r,message:"Curalate: No experience found for "+r})}function getAllExperienceInstances(){return Promise.all(Object.keys(experiencesByContainerId).map(function(e){return experiencesByContainerId[e].instancePromise}))}function destroyExperienceInstance(e,t,r){var n=experiencesByContainerId[e];return n?(destroyExperience(n),Promise.resolve()):Promise.reject({containerSelector:r,message:logError("Could not find an experience to destroy for "+r)})}function destroyAllExperienceInstances(){return Promise.all(Object.keys(experiencesByContainerId).map(function(e){return destroyExperience(experiencesByContainerId[e])}))}var ErrorLogger=__webpack_require__(9),EventBus=__webpack_require__(10),utils=__webpack_require__(11),queryParams=processQueryParams(location.search),ID_ATTR_NAME="crl8-container-id",ID_DATA_ATTR_NAME="data-crl8-container-id",AUTO_INIT_SELECTOR="["+ID_ATTR_NAME+"]:not([crl8-auto-init=false])",AUTO_INIT_DATA_SELECTOR="["+ID_DATA_ATTR_NAME+"]:not([data-crl8-auto-init=false])",CDN_PATH=queryParams["ctrl-skip-cdn"]?"https://s3.amazonaws.com/curalate-experiences/sites/":"https://cdn.curalate.com/sites/",siteName,experienceOptionsByContainerId={},experienceOptionsByExperienceName={},experienceConstructorPromises={},experiencesByContainerId={},containerMapper=function(e){return Promise.resolve(e)};EventBus.addEventListener("siteReady",function(e){"object"!=typeof e&&throwError("`siteReady` event triggered without a `name` property in: "+e),"string"!=typeof e.name&&throwError("`siteReady` event triggered without a `name` property in: "+JSON.stringify(e)),siteName=e.name,"uninitialized"===document.readyState||"loading"===document.readyState?document.addEventListener("DOMContentLoaded",autoInitExperiences):autoInitExperiences()}),EventBus.addEventListener("experienceConstructorReady",function(e){experienceConstructorPromises[e.name]=Promise.resolve(e.Experience)}),EventBus.addEventListener("experienceInstanceDestroyed",function(e){var t=e.instance,r=utils.find(experiencesByContainerId,function(e){return e.instance===t});delete experiencesByContainerId[r.containerId]}),EventBus.addEventListener("registerExperienceOptions",function(e){var t=e.containerId,r=e.experienceName,n=e.options;t&&(experienceOptionsByContainerId[t]=utils.assign(experienceOptionsByContainerId[t],n)),r&&(experienceOptionsByExperienceName[r]=utils.assign(experienceOptionsByExperienceName[r],n))}),EventBus.addEventListener("registerContainerMapper",function(e){containerMapper=e}),window.crl8=utils.assign(window.crl8,{ErrorLogger:ErrorLogger,EventBus:EventBus,createExperience:wrapContainerSelectorToPromiseFn(createExperienceInstance),getExperience:wrapContainerSelectorToPromiseFn(getExperienceInstance),getAllExperiences:getAllExperienceInstances,destroyExperience:wrapContainerSelectorToPromiseFn(destroyExperienceInstance),destroyAllExperiences:destroyAllExperienceInstances,__eval__:function(script){eval(script)}})},function(e,t,r){r(7);var n="https://api.curalate.com/v1/error-logging/log";e.exports={log:function(e){return window.crl8&&window.crl8.debug===!1&&fetch(n,e),"Curalate: ERROR - "+e.error}}},function(e,t){var r={};e.exports={addEventListener:function(e,t){r[e]=r[e]||[],r[e].push(t)},removeEventListener:function(e,t){for(var n=0;n<r[e].length;++n)if(r[e][n]===t){r[e].splice(n,1);break}},dispatchEvent:function(e,t){var n=r[e];if(n)for(var o=0;o<n.length;++o)n[o].call(null,t)}}},function(e,t){e.exports={assign:function(){for(var e={},t=0;t<arguments.length;++t)if("object"==typeof arguments[t])for(var r in arguments[t])arguments[t].hasOwnProperty(r)&&(e[r]=arguments[t][r]);return e},find:function(e,t){if(e instanceof Array){for(var r=0;r<e.length;++r)if(t(e[r]))return e[r]}else if("object"==typeof e)for(var n in e)if(t(e[n]))return e[n]},getQueryParamsMap:function(e){return e.substring(1).split("&").reduce(function(e,t){var r=t.split("=");return e[r[0]]=decodeURIComponent(r[1]),e},{})},fetchScript:function(e){return new Promise(function(t,r){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=t,n.onerror=r,document.getElementsByTagName("body")[0].appendChild(n)})}}},function(e,t,r){!function(t,r){e.exports=r()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t,r){"use strict";function n(e){return e instanceof Object&&!(e instanceof Array)}function o(e){return JSON.parse(JSON.stringify(e))}function i(e,t){var r=o(e);for(var s in t)r[s]=n(e[s])&&n(t[s])?i(e[s]||{},t[s]):o(t[s]);return r}function s(e){return e.replace?e.replace(/\|/g,""):e}function a(){return Date.now()}t.a=i,t.b=s,t.c=a},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.a=function(){function e(){n(this,e),this.debug=!1}return o(e,[{key:"setDebug",value:function(e){this.debug=!!e}},{key:"logDebug",value:function(e,t){this.debug&&(t?console.debug("[crl8 debug]",e,t):console.debug("[crl8 debug]",e))}},{key:"logError",value:function(e,t){var r=window.screen.height+"x"+window.screen.width,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||"",o="https://api.curalate.com/v1/error-logging/log?errortype=universalAnalytics&error="+encodeURIComponent(e)+"&width="+n+"&dimensions="+r+")}";if(fetch(o,{method:"POST",mode:"cors"}),t)throw Error(e);console.error(e)}}]),e}()},function(e,t,r){var n,o;!function(i){var s=!1;if(n=i,void 0!==(o="function"==typeof n?n.call(t,r,t,e):n)&&(e.exports=o),s=!0,e.exports=i(),s=!0,!s){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}(function(){function e(){for(var e=0,t={};arguments.length>e;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(r){function n(t,o,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},n.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(e){}o=r.write?r.write(o,t):encodeURIComponent(o+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(t+""),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u]));return document.cookie=t+"="+o+c}t||(s={});for(var l=document.cookie?document.cookie.split("; "):[],d=0;l.length>d;d++){var f=l[d].split("="),p=f.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var h=f[0].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(p=r.read?r.read(p,h):r(p,h)||p.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===h){s=p;break}t||(s[h]=p)}catch(e){}}return s}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}return t(function(){})})},function(e,t,r){e.exports=r(4)},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)0>t.indexOf(n)&&Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),s=r(1),a=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){function e(){o(this,e),this.trackers={},this.logger=new s.a}return c(e,[{key:"_getTracker",value:function(e){var t=this.trackers[e];return t||void this.logger.logError("[crl8] No tracker exists for experienceId: "+e)}},{key:"init",value:function(e,t){return this.trackers[e]?this.logger.logError("[crl8]: Analytics have already been initialized for experience "+e+".",!0):void(this.trackers[e]=new i.a(e,t))}},{key:"destroy",value:function(e){var t=this,r=this._getTracker(e);return r?r.submitEventBatch().then(function(){delete t.trackers[e]}):Promise.resolve()}},{key:"recordEvent",value:function(e){var t=e.experienceId,r=e.eventName,o=void 0===r?"":r,i=e.eventData,s=n(e,["experienceId","eventName","eventData"]),c=this._getTracker(t);if(c){var u="record"+(o.charAt(0).toUpperCase()+o.slice(1));return"function"!=typeof c[u]?this.logger.logError("[crl8] Invalid tracker function specified. Analytic data will not be recorded."):c[u](i,a({},s))}}},{key:"flushEvents",value:function(e){var t=this._getTracker(e);return t?t.submitEventBatch():Promise.resolve()}},{key:"startBatchTimer",value:function(e){var t=this._getTracker(e);if(t)return t.startBatchTimer()}},{key:"stopBatchTimer",value:function(e){var t=this._getTracker(e);if(t)return t.stopBatchTimer()}}]),e}()},function(e,t,r){"use strict";t.a={eventKeys:{PageImpression:"pi",PageImpressionNoContent:"pinc",PageViewableImpression:"pvi",ItemImpression:"ivi",ItemHover:"ih",ItemClick:"ic",ProductImpression:"prvi",ProductHover:"prh",ProductClick:"prc"},optionalFields:{elapsedTime:"et",itemId:"iid",productId:"pid",productStyleId:"psid",position:"pos",displayType:"dt"},timing:{batchSizeThreshold:15,batchTimeThreshold:1e4}}},function(e,t,r){"use strict";function n(e,t){var n="t:"+r.i(o.b)(e.type)+"|ts:"+r.i(o.b)(e.timestamp),i=Object.keys(t).reduce(function(n,i){return e[i]?n+"|"+t[i]+":"+r.i(o.b)(e[i]):n},n);return encodeURIComponent(i)}var o=r(0);t.a=n},function(e,t,r){"use strict";function n(e){var t=r.i(s.a)(document.domain);i.a.set("crl8.fpcuid",e,{expires:365,domain:t,path:""})}var o=r(2),i=r.n(o),s=r(9);t.a=n},function(e,t,r){"use strict";function n(){return window.location.search.substring(1).split("&").reduce(function(e,t){var r=t.split("="),n=decodeURIComponent(r[0]).toLowerCase(),o=n.match(/^crl8_(.*)/);return o&&o[1]&&(e[o[1]]=decodeURIComponent(r[1]).toLowerCase()),e},{})}t.a=n},function(e,t,r){"use strict";function n(e){var t=e.split(".");return-1!==["co","com"].indexOf(t[t.length-2])?t.slice(-3).join("."):t.slice(-2).join(".")}t.a=n},function(e,t,r){"use strict";function n(e,t){return e.baseUrl&&"string"==typeof e.baseUrl?e.metricsId&&"string"==typeof e.metricsId?e.pixelName&&"string"==typeof e.pixelName?void 0:t.logError("[crl8]: You must provide a string value for pixelName.",!0):t.logError("[crl8]: You must provide a string value for metricsId.",!0):t.logError("[crl8]: You must provide a valid url for baseUrl.",!0)}t.a=n},function(e,t,r){"use strict";function n(e){if(!e.requestId||"string"!=typeof e.requestId)throw Error("[crl8] Tracking event must define a requestId field in order to be recorded.");if(!e.type||"string"!=typeof e.type)throw Error("[crl8] Tracking event must define a type field in order to be recorded.");if(!e.timestamp||"number"!=typeof e.timestamp)throw Error("[crl8] Tracking event must define a timestamp field in order to be recorded.")}function o(e,t,r){try{n(e)}catch(e){return r.logError(e.message),!1}switch(e.type){case t.eventKeys.PageImpression:return!!e.displayType||(r.logError('[crl8] Page impressions must define a "displayType" parameter.'),!1);case t.eventKeys.PageImpressionNoContent:return!(!e.displayType||!e.productId)||(r.logError('[crl8] Page no-content impressions must define "displayType" and "productId" parameters.'),!1);case t.eventKeys.PageViewableImpression:return!!e.elapsedTime||(r.logError('[crl8] Viewable impressions must define an "elapsedTime" parameter.'),!1);case t.eventKeys.ItemImpression:return!!(e.itemId&&e.elapsedTime&&e.position)||(r.logError('[crl8] Item impressions must define "itemId", "elapsedTime" and "position" parameters.'),!1);case t.eventKeys.ItemHover:return!(!e.itemId||!e.position)||(r.logError('[crl8] Item hovers must include "itemId" and "position" parameters.'),!1);case t.eventKeys.ItemClick:return!(!e.itemId||!e.position)||(r.logError('[crl8] Item clicks must include "itemId" and "position"  parameters.'),!1);case t.eventKeys.ProductImpression:return!!(e.itemId&&e.productId&&e.productStyleId&&e.position&&e.elapsedTime)||(r.logError('[crl8] Product impressions must define "itemId", "productId", "productStyleId", "elapsedTime", and "position" parameters.'),!1);case t.eventKeys.ProductHover:return!!(e.itemId&&e.productId&&e.productStyleId&&e.position&&e.elapsedTime)||(r.logError('[crl8] Product hovers must define "itemId", "productId", "productStyleId", "elapsedTime", and "position" parameters.'),!1);case t.eventKeys.ProductClick:return!!(e.itemId&&e.productId&&e.productStyleId&&e.position)||(r.logErorr('[crl8] Product clicks must define "itemId", "productId", "productStyleId" and "position" parameters.'),!1);default:return r.logErorr("[crl8] Unknown event type. Cannot be validated."),!1}}t.a=o},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(2),i=r.n(o),s=r(14),a=r.n(s),c=r(5),u=r(1),l=r(0),d=r(10),f=r(11),p=r(7),h=r(8),m=r(6),y=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.a=function(){function e(t,o){var s=this;n(this,e),this.eventQueue=[],this.logger=new u.a;var f=r.i(l.a)(c.a,o),m=i.a.get("crl8.fpcuid"),v=void 0;m?v=m:(v=a()(),r.i(p.a)(v)),this.config=y({experienceId:t,rid:a()(),fpcuid:v},f);var g=r.i(h.a)();(window.crl8&&crl8.debug||g.debug||f.debug)&&(this.debug=!0,this.logger.setDebug(!0)),r.i(d.a)(this.config,this.logger),window.addEventListener("beforeunload",function(){s.submitEventBatch()}),this.logger.logDebug("analytics initialized for "+t),this.startBatchTimer()}return v(e,[{key:"startBatchTimer",value:function(){var e=this;this.batchTimerId||(this.batchTimerId=window.setInterval(function(){e.logger.logDebug("batch timer reached, flushing queue..."),e.submitEventBatch()},this.config.timing.batchTimeThreshold))}},{key:"stopBatchTimer",value:function(){this.batchTimerId&&(window.clearInterval(this.batchTimerId),this.batchTimerId=null)}},{key:"resetBatchTimer",value:function(){this.batchTimerId&&(this.stopBatchTimer(),this.startBatchTimer())}},{key:"enqueueEvent",value:function(e){this.eventQueue.push(e),this.config.timing.batchSizeThreshold>this.eventQueue.length||this.submitEventBatch();
}},{key:"submitEventBatch",value:function(){var e=this;return 0===this.eventQueue.length?Promise.resolve():new Promise(function(t,n){var o=e.config,i=o.baseUrl,s=o.containerId,c=o.experienceId,u=o.fpcuid,d=o.metricsId,f=o.optionalFields,p=o.pixelName,h=o.rid,y=s?"cid="+s+"&":"",v=y+"eid="+c+"&rid="+h+"&fpcuid="+u+"&ref="+encodeURIComponent(r.i(l.b)(document.referrer)),g=e.eventQueue.reduce(function(e,t){return e+"&e="+r.i(m.a)(t,f)},""),b=""+v+g+"&cache=_"+a()(),w=document.createElement("img"),x="https:"===document.location.protocol?"https:":"http:";w.src=""+x+i+"/"+d+"/"+p+"?"+b,w.onload=function(){e.logger.logDebug('crl8 pixel with metricsId "'+d+'" fired successfully: '+b),document.body.removeChild(w),t()},w.onerror=function(){e.logger.logDebug('crl8 pixel with metricsId "'+d+'" failed to fire: '+b),n()},document.body.appendChild(w),e.eventQueue=[],e.resetBatchTimer()})}},{key:"recordPageImpression",value:function(e,t){var n=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.PageImpression,timestamp:r.i(l.c)(),displayType:t.displayType});r.i(f.a)(n,this.config,this.logger)&&(this.enqueueEvent(n),this.logger.logDebug("registering page impression",n),this.submitEventBatch())}},{key:"recordPageImpressionNoContent",value:function(e,t){var n=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.PageImpressionNoContent,timestamp:r.i(l.c)(),displayType:t.displayType});r.i(f.a)(n,this.config,this.logger)&&(this.enqueueEvent(n),this.logger.logDebug("registering page no-content impression",n))}},{key:"recordPageViewableImpression",value:function(e,t){var n=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.PageViewableImpression,timestamp:r.i(l.c)()});r.i(f.a)(n,this.config,this.logger)&&(this.enqueueEvent(n),this.logger.logDebug("registering page viewable impression",n))}},{key:"recordItemImpression",value:function(e){var t=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.ItemImpression,timestamp:r.i(l.c)()});r.i(f.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item impression",t))}},{key:"recordItemHover",value:function(e){var t=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.ItemHover,timestamp:r.i(l.c)()});r.i(f.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item hover",t))}},{key:"recordItemClick",value:function(e){var t=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.ItemClick,timestamp:r.i(l.c)()});r.i(f.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering item click",t),this.submitEventBatch())}},{key:"recordProductImpression",value:function(e){var t=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.ProductImpression,timestamp:r.i(l.c)()});r.i(f.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product impression",t))}},{key:"recordProductHover",value:function(e){var t=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.ProductHover,timestamp:r.i(l.c)()});r.i(f.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product hover",t))}},{key:"recordProductClick",value:function(e){var t=y({},e,{requestId:this.config.rid,type:this.config.eventKeys.ProductClick,timestamp:r.i(l.c)()});r.i(f.a)(t,this.config,this.logger)&&(this.enqueueEvent(t),this.logger.logDebug("registering product click",t),this.submitEventBatch())}}]),e}()},function(e,t,r){(function(t){var r,n=t.crypto||t.msCrypto;if(n&&n.getRandomValues){var o=new Uint8Array(16);r=function(){return n.getRandomValues(o),o}}if(!r){var i=Array(16);r=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=r}).call(t,r(15))},function(e,t,r){function n(e,t,r){var n=t&&r||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(t[n+o++]=u[e])});16>o;)t[n+o++]=0;return t}function o(e,t){var r=t||0,n=c;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}function i(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var s=void 0!==e.clockseq?e.clockseq:p,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:m+1,u=a-h+(c-m)/1e4;if(0>u&&void 0===e.clockseq&&(s=s+1&16383),(0>u||a>h)&&void 0===e.nsecs&&(c=0),c>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");h=a,m=c,p=s,a+=122192928e5;var l=(1e4*(268435455&a)+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=255&l;var d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=255&d,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var y=e.node||f,v=0;6>v;v++)i[n+v]=y[v];return t||o(i)}function s(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"==e?Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;16>s;s++)t[n+s]=i[s];return t||o(i)}for(var a=r(13),c=[],u={},l=0;256>l;l++)c[l]=(l+256).toString(16).substr(1),u[c[l]]=l;var d=a(),f=[1|d[0],d[1],d[2],d[3],d[4],d[5]],p=16383&(d[6]<<8|d[7]),h=0,m=0,y=s;y.v1=i,y.v4=s,y.parse=n,y.unparse=o,e.exports=y},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){e.exports=r(3)}])})},function(e,t){!function(){var e={},t=null,r=["checkout","addtocart","removefromcart","viewproduct","pageview"],n=[],o=[],i={},s={},a={pixelId:"a",transactionId:"b",userId:"c",cartValue:"d",taxValue:"e",shippingValue:"f",shippingCity:"g",shippingState:"h",shippingCountry:"i",currency:"j",numProducts:"k",productId:"l",productName:"m",quantity:"n",price:"o",displayPrice:"p",sku:"q",category:"r",eventType:"s",firstPartyCuid:"t",referrer:"u",title:"v",location:"w",path:"x"},c="crl8.fpcuid",u=!1,l=function(e){return e.replace?e.replace(/\|/g,""):e},d=function(e){var t=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""},r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)})},n=t(e),o=n?n:r(),i=new Date;i.setTime(i.getTime()+31536e6);var s,a=i.toGMTString(),c=document.domain.split(".");s=["co","com"].indexOf(c[c.length-2])!==-1?"."+c.slice(-3).join("."):"."+c.slice(-2).join(".");var u=e+"="+o+";expires="+a+";domain="+s+";path=/";return document.cookie=u,o},f=d(c),p=document.referrer,h=function(e,t){return e.hasOwnProperty("productId")&&e.hasOwnProperty("productName")&&e.hasOwnProperty("quantity")&&e.hasOwnProperty("price")?r.indexOf(t.toLowerCase())>=0?(e.eventType=t,void("checkout"==e.eventType?o.push(e):n.push(e))):void console.error("crl8: Invalid event type. Event type must be one of "+r.join(", ")):void console.error("crl8: Product info is missing. Product id, product name, quantity, and price must be included for product:",e)},m=function(){return o.length>0},y=function(e){var t=[];if(e){Object.keys(i).forEach(function(e){t.push(a[e]+"="+encodeURIComponent(i[e]))}),t.push(a.numProducts+"="+(o.length+n.length));for(var r=0;r<o.length;r++)Object.keys(o[r]).forEach(function(e){t.push(a[e]+r+"="+encodeURIComponent(o[r][e]))});b("Preparing to send "+o.length+" product(s) as part of checkout.",o)}else t.push(a.numProducts+"="+n.length);for(var c=e?o.length:0,r=0;r<n.length;r++)Object.keys(n[r]).forEach(function(e){t.push(a[e]+(r+c)+"="+encodeURIComponent(n[r][e]))});return n.length>0&&b("Preparing to send "+n.length+" product(s).",n),Object.keys(s).forEach(function(e){t.push(a[e]+"="+encodeURIComponent(l(s[e])))}),t.push(a.firstPartyCuid+"="+f),t.push(a.referrer+"="+encodeURIComponent(l(p))),t.join("&")},v=function(e){var r=document.createElement("img"),n="https:"===document.location.protocol?"https:":"http:",o=y(e);r.src=n+"//api.curalate.com/v1/pixel/"+t+"/pixel.png?"+o,r.onload=function(){b("Curalate pixel ID "+t+" fired successfully.")},r.onerror=function(){b("Curalate pixel "+t+" failed to fire.")},document.body.appendChild(r)},g=function(e){e&&(o=[],i={}),n=[],s={}},b=function(e,t){var r=!!document.documentMode;u&&(t&&r?console.log("[crl8 debug] "+e,JSON.stringify(t)):t?console.log("[crl8 debug] "+e,t):console.log("[crl8 debug] "+e))};window.crl8.pixel.execute=function(){for(;window.crl8.pixel.q.length>0;){var t=window.crl8.pixel.q.shift(),r=t[0],n=Array.prototype.slice.call(t).slice(1);"function"==typeof e[r]?e[r].call(window,n):console.error("crl8: Invalid function specified: "+r)}},e.init=function(e){var r=e[0],n=!!e[1]&&e[1];t=r,n&&(u=n),b("Debug mode enabled.")},e.pageView=function(e){var t=e[0];return Object.keys(s).length>0?void console.error("crl8: Only 1 pageview can be recorded at a time. Call send before adding a second pageview."):t.hasOwnProperty("location")||t.hasOwnProperty("path")?(s=t,void b("Viewed page:",t)):void console.error("crl8: must define either a location or path for Pageview events. Please add one of location or path.")},e.addToCart=function(e){var t=e[0];h(t,"addtocart"),b("Added product to cart:",t)},e.removeFromCart=function(e){var t=e[0];h(t,"removefromcart"),b("Removed product from cart:",t)},e.viewProduct=function(e){var t=e[0];h(t,"viewproduct"),b("Viewed product:",t)},e.addProduct=function(e){var t=e[0];h(t,"checkout"),b("Added product for checkout:",t)},e.addTransactionInfo=function(e){var t=e[0];return Object.keys(i).length>0?void console.error("crl8: Only 1 transaction can be added at a time. Call send before adding a second transaction."):t.hasOwnProperty("transactionId")?(i=t,void b("Added transaction info for checkout:",t)):void console.error("crl8: Transaction id must be included in info for transaction:",t)},e.send=function(s){if(!t)return void console.error("crl8: Curalate pixel must be initialized with a pixel id before data can be sent.");if(s.length>0){var a=s[0].toLowerCase();if(!(r.indexOf(a.toLowerCase())>=0))return void console.error('crl8: Unknown event type passed in to "send".');"addtocart"===a?e.addToCart([s[1]]):"viewproduct"===a?e.viewProduct([s[1]]):"removefromcart"===a?e.removeFromCart([s[1]]):"pageview"===a&&e.pageView([s[1]]),v(includeCheckout=!1),g(resetCheckout=!1)}else{if(0===o.length&&0===n.length)return void console.error("crl8: 0 products have been added. At least 1 product must be added to send data.");if(Object.keys(i).length>0){if(!i.hasOwnProperty("transactionId"))return void console.error("crl8: Transaction id must be specified before checkout data can be sent.");if(!m())return void console.error("crl8: 0 checkout products have been added. At least 1 product must be added to send checkout data.")}else if(m()&&0===Object.keys(i).length)return void console.error("crl8: Transaction info must be added with addTransactionInfo before checkout data can be sent.");v(includeCheckout=!0),g(resetCheckout=!0)}}}()}])},function(e,t,r){var n=r(0).name;r(1),crl8.EventBus.dispatchEvent("siteReady",{name:n})}]);